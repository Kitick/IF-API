<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Infinite Flight API</title>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">

        <script src="socket.io/socket.io.js"></script>
        <script src="script.js"></script>
		<script src="controller.js"></script>

		<link href="style.css" rel="stylesheet">
	</head>
    <body onload="loaded();">
        <h3>Status: <span id="status">offline</span></h3>
        <label for="address">IP Address: </label>
		<input id="address" onkeypress="if(event.key === 'Enter'){bridge();}" type="text" autocomplete="off" value="">
        <button onclick="bridge();">Connect</button>
        <button onclick="closeBridge();">Close</button>
        <h3>NOTE: Ensure you are loaded into a flight before connecting!</h3>
        <div id="autopilot" hidden>
			<h3>NOTE: Restart the connection if you start a new flight.</h3>
			<br>
            <h2>IFAPI Controller</h2>
			<div>
				<button class="off">Standby</button>
				<button class="active">Active</button>
				<button class="armed">Armed</button>
				<button class="error">Error</button>
			</div>
			<br>
			<div class="mode">
				<h3>Auto Functions</h3>
				<button id="trim" onclick="autotrim.changeActive();" class="off">TRIM</button>
				<button id="lights" onclick="autolights.changeActive();" class="off">LIGHTS</button>
				<button id="gear" onclick="autogear.changeActive();" class="off">GEAR</button>
				<br><br>

				<input id="flaplow" type="number" value="120" step="5">
				<input id="flaphigh" type="number" value="200" step="5">
				<input id="flapto" type="number" value="2" step="1">
				<button id="flaps" onclick="autoflaps.changeActive();" class="off">FLAPS</button>
				<br>
				
				<ol>
					<li><label for="flaplow">Max Flaps Speed</label></li>
					<li><label for="flaphigh">Clean Speed</label></li>
					<li><label for="flapto">Takeoff Flap Number</label></li>
				</ol>
				<ul>
					<li>Takeoff flap is the config setting, not the degree.</li>
				</ul>
			</div>
			<div class="mode">
				<h3>Auto Takeoff</h3>
				<button id="takeoffconfig" onclick="takeoffconfig.changeActive();" class="off">BEFORE TAKEOFF CONFIG</button>
				<br><br>

				<input id="climbrate" type="number" value="500" step="100">
				<input id="short" type="checkbox">
				<label for="short">Max Thrust</label>
				<br><br>

				<button id="autotakeoff" onclick="autotakeoff.changeActive();" class="off">AUTO TAKEOFF</button>
				<button id="reject" onclick="rejecttakeoff.changeActive();" class="off">REJECT TAKEOFF</button>
				<br>

				<ol>
					<li><label for="climbrate">Climb Gradient for Takeoff (ft/nm)</label></li>
				</ol>
				<ul>
					<li>You must still input rudder to maintian centerline.</li>
					<br>
					<li>BTC will configure aircraft for takeoff. If used on a runway, flaps and lights will be configured as well.</li>
				</ul>
			</div>
			<div class="mode">
				<h3>Auto Flight</h3>
				<input id="lat" type="number" value="39.51367">
				<input id="long" type="number" value="-119.76675">
				<input id="hdg" type="number" value="167" step="1">
				<button id="flyto" onclick="flyto.changeActive();" class="off">FLY TO</button>
				<br><br>

				<button id="setposition" onclick="setposition.changeActive();" class="off">SET POSITION</button>
				<button id="setrunway" onclick="setrunway.changeActive();" class="off">SET RUNWAY</button>
				<br>

				<ol>
					<li><label for="lat">Latitude</label></li>
					<li><label for="long">Longitude</label></li>
					<li><label for="hdg">Heading</label></li>
				</ol>
				<ul>
					<li>Leave heading blank for direct to.</li>
					<br>
					<li>Position will set your current location as the target.</li>
					<li>Runway will set the first RWXX in your FPL as the target.</li>
					<br>
					<li>You must still update the heading to the exact runway heading.</li>
				</ul>
			</div>
			<div class="mode">
				<h3>Altitude Modes</h3>
				<button id="levelchange" onclick="levelchange.changeActive();" class="off">LEVEL CHANGE</button>
			</div>
        </div>
    </body>
</html>